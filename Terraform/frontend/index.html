<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Frontend</title>
</head>
<body>
  <h1>Registro de Correos Electr√≥nicos</h1>
  <input type="text" id="emailInput" placeholder="Ingrese su correo">
  <button id="addEmailButton">Agregar Correo</button>
  <h2>Correos Registrados:</h2>
  <ul id="emailList"></ul>

  <script>
    const emailList = document.getElementById('emailList');
    const emailInput = document.getElementById('emailInput');
    const addEmailButton = document.getElementById('addEmailButton');

    const fetchEmails = () => {
      fetch('http://backend-service:8080/emails')
        .then(response => response.json())
        .then(data => {
          emailList.innerHTML = '';
          data.forEach(email => {
            const li = document.createElement('li');
            li.textContent = email;
            emailList.appendChild(li);
          });
        });
    };

    const addEmail = () => {
      const email = emailInput.value;
      fetch('http://backend-service:8080/emails', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify({ email })
      })
      .then(() => {
        emailInput.value = '';
        fetchEmails();
      });
    };

    addEmailButton.addEventListener('click', addEmail);
    fetchEmails();
  </script>
</body>
</html>
